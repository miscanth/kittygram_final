![Python](https://img.shields.io/badge/python-3670A0?style=for-the-badge&logo=python&logoColor=ffdd54)  ![Django](https://img.shields.io/badge/django-%23092E20.svg?style=for-the-badge&logo=django&logoColor=white)  ![Docker](https://img.shields.io/badge/docker-%230db7ed.svg?style=for-the-badge&logo=docker&logoColor=white)  ![Nginx](https://img.shields.io/badge/nginx-%23009639.svg?style=for-the-badge&logo=nginx&logoColor=white)  ![Gunicorn](https://img.shields.io/badge/gunicorn-%298729.svg?style=for-the-badge&logo=gunicorn&logoColor=white)  ![GitHub Actions](https://img.shields.io/badge/github%20actions-%232671E5.svg?style=for-the-badge&logo=githubactions&logoColor=white)  ![Postgres](https://img.shields.io/badge/postgres-%23316192.svg?style=for-the-badge&logo=postgresql&logoColor=white)


# –°–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–µ—Ç—å –¥–ª—è –æ–±–º–µ–Ω–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏ –ª—é–±–∏–º—ã—Ö –ø–∏—Ç–æ–º—Ü–µ–≤ —Å API

## –î–µ–ø–ª–æ–π –ø—Ä–æ–µ–∫—Ç–∞ Kittygram –≤ **Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö** –∏ CI/CD —Å –ø–æ–º–æ—â—å—é GitHub Actions –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä 

### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç Kittygram - —Å–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–µ—Ç—å –¥–ª—è –æ–±–º–µ–Ω–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏ –ª—é–±–∏–º—ã—Ö –ø–∏—Ç–æ–º—Ü–µ–≤, –∞ –∏–º–µ–Ω–Ω–æ –∫–æ—Ç–æ–≤ –∏ –∫–æ—à–µ–∫, —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∏—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π.

–≠—Ç–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∏–π –ø—Ä–æ–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –±—ç–∫–µ–Ω–¥-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ **Django** –∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ **React**. 

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞: 

–ú–æ–∂–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è, –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ –∫–æ—Ç–∏–∫–∞ –Ω–∞ —Å–∞–π—Ç –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ, –¥–æ–±–∞–≤–∏—Ç—å –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è, –∞ —Ç–∞–∫–∂–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∑–∞–ø–∏—Å–∏ –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

API –¥–ª—è kittygram –Ω–∞–ø–∏—Å–∞–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ **Django REST Framework**, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **TokenAuthentication** –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, –∞ —Ç–∞–∫–∂–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ **Djoser**.

–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑–º–µ—â—ë–Ω –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö **Docker** –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö. –í –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –±—ç–∫–µ–Ω–¥–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω **WSGI-—Å–µ—Ä–≤–µ—Ä Gunicorn**.
–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –¥–µ–ø–ª–æ—è –ø—Ä–æ–µ–∫—Ç–∞ Kittygram –æ—Å—É—â–µ—Å—Ç–≤–ª–µ–Ω–∞ —Å –ø–æ–º–æ—â—å—é **GitHub Actions**.


### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CI/CD

–î–µ–ø–ª–æ–π –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–Ω —á–µ—Ä–µ–∑ CI/CD —Å –ø–æ–º–æ—â—å—é GitHub Actions, –¥–ª—è —ç—Ç–æ–≥–æ —Å–æ–∑–¥–∞–Ω workflow, –≤ –∫–æ—Ç–æ—Ä–æ–º:

* –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∫–æ–¥ –±—ç–∫–µ–Ω–¥–∞ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ PEP8;
* –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –∏ –±—ç–∫–µ–Ω–¥–∞;
* –≤ —Å–ª—É—á–∞–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤ –æ–±—Ä–∞–∑—ã –¥–æ–ª–∂–Ω—ã –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –Ω–∞ Docker Hub;
* –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –æ–±—Ä–∞–∑—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–∏ –ø–æ–º–æ—â–∏ Docker Compose;
* –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Å–±–æ—Ä–∫–∏ —Å—Ç–∞—Ç–∏–∫–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –±—ç–∫–µ–Ω–¥–∞, –ø–µ—Ä–µ–Ω–æ—Å–∞ —Å—Ç–∞—Ç–∏–∫–∏ –≤ volume; –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –º–∏–≥—Ä–∞—Ü–∏–∏;
* –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram –æ–± —É—Å–ø–µ—à–Ω–æ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –¥–µ–ø–ª–æ—è.

–ü—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω–æ–≥–æ workflow —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ —Ñ–∞–π–ª–µ kittygram_workflow.yml –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞, –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∑–∞–ø—É—Å–∫–∞ –ø–µ—Ä–µ–ø–∏—à–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ –≤ .github/workflows/main.yml.

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –≤ —Å–µ–∫—Ä–µ—Ç–∞—Ö GitHub Actions:

```
DOCKER_USERNAME - –ª–æ–≥–∏–Ω –≤ Docker Hub
DOCKER_PASSWORD - –ø–∞—Ä–æ–ª—å –¥–ª—è Docker Hub
SSH_KEY - –∑–∞–∫—Ä—ã—Ç—ã–π SSH-–∫–ª—é—á –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω-—Å–µ—Ä–≤–µ—Ä—É
SSH_PASSPHRASE - passphrase –¥–ª—è —ç—Ç–æ–≥–æ –∫–ª—é—á–∞
USER - username –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω-—Å–µ—Ä–≤–µ—Ä—É
HOST - –∞–¥—Ä–µ—Å —Ö–æ—Å—Ç–∞ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω-—Å–µ—Ä–≤–µ—Ä—É
TELEGRAM_TO - ID —Å–≤–æ–µ–≥–æ —Ç–µ–ª–µ–≥—Ä–∞–º-–∞–∫–∫–∞—É–Ω—Ç–∞
TELEGRAM_TOKEN - —Ç–æ–∫–µ–Ω Telegram-–±–æ—Ç–∞
```

–§–∞–π–ª docker-compose.yml –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∏ —Ñ–∞–π–ª docker-compose.production.yml –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ –æ–±–ª–∞—á–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.


### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- Python 3.9
- Django 3.2.3
- Django REST framework 3.12.4
- PostgreSQL
- Docker
- Nginx
- Gunicorn
- GitHub Actions


### –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞ –≤ dev-—Ä–µ–∂–∏–º–µ

–ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–µ—Ä–µ–π—Ç–∏ –≤ –Ω–µ–≥–æ –≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ: 
```
git clone git@github.com:miscanth/kittygram_final.git
```
C–æ–∑–¥–∞—Ç—å –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ: 
```
python3.9 -m venv venv 
```
* –ï—Å–ª–∏ —É –≤–∞—Å Linux/macOS 

    ```
    source venv/bin/activate
    ```
* –ï—Å–ª–∏ —É –≤–∞—Å windows 
 
    ```
    source venv/scripts/activate
    ```
```
python3.9 -m pip install --upgrade pip
```
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ —Ñ–∞–π–ª–∞ requirements.txt:
```
pip install -r requirements.txt
```
–ó–∞–¥–∞–π—Ç–µ —É—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ë–î –≤ .env —Ñ–∞–π–ª–µ, –∏—Å–ø–æ–ª—å–∑—É—è .env.example:
```
POSTGRES_USER=–ª–æ–≥–∏–Ω
POSTGRES_PASSWORD=–ø–∞—Ä–æ–ª—å
POSTGRES_DB=–Ω–∞–∑–≤–∞–Ω–∏–µ –ë–î
DB_HOST=–Ω–∞–∑–≤–∞–Ω–∏–µ —Ö–æ—Å—Ç–∞
DB_PORT=5432
```

**–ó–∞–ø—É—Å—Ç–∏—Ç—å Docker Compose —Å –¥–µ—Ñ–æ–ª—Ç–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π (docker-compose.yml):**

* –í—ã–ø–æ–ª–Ω–∏—Ç—å —Å–±–æ—Ä–∫—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤: *sudo docker compose up -d --build*

* –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏: *sudo docker compose exec backend python manage.py migrate*

* –°–æ–∑–¥–∞—Ç—å —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: *sudo docker compose exec backend python manage.py createsuperuser*

* –°–æ–±—Ä–∞—Ç—å —Ñ–∞–π–ª—ã —Å—Ç–∞—Ç–∏–∫–∏: *sudo docker compose exec backend python manage.py collectstatic*

* –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã —Å—Ç–∞—Ç–∏–∫–∏ –≤ /backend_static/static/ backend-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞: *sudo docker compose exec backend cp -r /app/collected_static/. /backend_static/static/*

* –ü–µ—Ä–µ–π—Ç–∏ –ø–æ –∞–¥—Ä–µ—Å—É 127.0.0.1:8000


### –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤:

–ü—Ä–∏–º–µ—Ä GET-–∑–∞–ø—Ä–æ—Å–∞ —Å —Ç–æ–∫–µ–Ω–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è adminka23: –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π. *GET .../api/achievements/*
–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
```
[
    {
        "id": 1,
        "achievement_name": "–ø—Ä—ã–≥-–¥—Ä—ã–≥"
    },
    {
        "id": 2,
        "achievement_name": "–¥–µ—Ä—ë—Ç—Å—è —Å–æ —Å–≤–æ–∏–º –æ—Ç—Ä–∞–∂–µ–Ω–∏–µ–º –≤ –∑–µ—Ä–∫–∞–ª–µ"
    }
]
```
–ü—Ä–∏–º–µ—Ä POST-–∑–∞–ø—Ä–æ—Å–∞ —Å —Ç–æ–∫–µ–Ω–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è adminka23: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–æ—Ç–∏–∫–∞. *POST .../api/cats/*
```
{
    "name": "Judith",
    "color": "#FF8C00",
    "birth_year": 1987
}
```
–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
```
{
    "id": 7,
    "name": "Judith",
    "color": "darkorange",
    "birth_year": 1987,
    "achievements": [],
    "owner": 2,
    "age": 36,
    "image": null
}
```

## –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ (–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å):
üë©üèº‚Äçüíª –Æ–ª–∏—è: https://github.com/miscanth